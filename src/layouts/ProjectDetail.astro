---
import DetailLayout from "./DetailLayout.astro";
import { SITE_NAME } from "../consts";

interface Frontmatter {
  title: string;
  subtitle?: string;
  year?: number;
  status?: string;
  link?: string;
}

const { title, subtitle, year, status, link } =
  Astro.props.frontmatter as Frontmatter;
const headings = Astro.props.headings ?? [];
---

<DetailLayout
  title={`${SITE_NAME} | ${title}`}
  module="MODULE.001///"
  headingTitle={title}
  subtitle={subtitle}
  backLinkHref="/projects"
  backLinkLabel="Back to projects"
  headings={headings}
>
  <div class="meta" slot="meta">
    {
      year && (
        <>
          <span class="meta__label">YEAR</span>
          <span class="meta__value">{year}</span>
        </>
      )
    }
    {
      status && (
        <>
          <span class="meta__label">STATUS</span>
          <span class="meta__value">{status}</span>
        </>
      )
    }
    {
      link && (
        <>
          <span class="meta__label">LINK</span>
          <a
            class="meta__link"
            href={link}
            target="_blank"
            rel="noopener noreferrer"
          >
            {link} &#8599;
          </a>
        </>
      )
    }
  </div>

  <slot />
</DetailLayout>
